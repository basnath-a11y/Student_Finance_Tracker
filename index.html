<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Student Finance Tracker</title>
  <link rel="stylesheet" href="styles/main.css">
</head>
<body>
  <a class="skip-link" href="#main-content">Skip to main content</a>

  <header class="site-header" role="banner">
    <div class="wrap">
      <h1>Student Finance Tracker</h1>
      <p class="subhead">Budgets, transactions, regex search, and accessible workflows.</p>
      <nav aria-label="Primary navigation">
        <ul class="nav-list">
          <li><a href="#about">About</a></li>
          <li><a href="#dashboard">Dashboard</a></li>
          <li><a href="#records">Records</a></li>
          <li><a href="#editor">Add/Edit</a></li>
          <li><a href="#settings">Settings</a></li>
        </ul>
      </nav>
     </div>
  </header>

  <main id="main-content" class="wrap" tabindex="-1">
    <section id="about" aria-labelledby="about-title">
      <h2 id="about-title">About</h2>
      <p>This app tracks student expenses with real-time stats, sortable records, regex search, and local-first storage.</p>
      <p>Contact: <a href="https://github.com/basnath-a11y">GitHub</a> | <a href="mailto:you@example.com">buterasnath@gmail.com</a></p>
      <p id="status" role="status" aria-live="polite" class="status-line"></p>
      <p id="cap-message" aria-live="polite" class="status-line"></p>
      <p id="error-message" aria-live="assertive" class="error-line"></p>
    </section>

    <section id="dashboard" aria-labelledby="dashboard-title">
      <h2 id="dashboard-title">Dashboard</h2>
      <div class="stats-grid" id="stats-grid" aria-label="Finance statistics">
        <article class="stat-card">
          <h3>Total Records</h3>
          <p id="stat-count">0</p>
        </article>
        <article class="stat-card">
          <h3>Total Spent</h3>
          <p id="stat-total">0frw</p>
        </article>
        <article class="stat-card">
          <h3>Top Category</h3>
          <p id="stat-top-category">-</p>
        </article>
        <article class="stat-card">
          <h3>Last 7 Days</h3>
          <p id="stat-trend">0frw</p>
        </article>
      </div>
      <div class="chart-wrap">
        <h3>Last 7 Days Trend</h3>
        <div id="trend-chart" class="chart" aria-label="Seven day spending chart"></div>
      </div>
    </section>

    <section id="records" aria-labelledby="records-title">
      <h2 id="records-title">Records</h2>

      <div class="controls">
        <div>
          <label for="search-pattern">Regex Search Pattern</label>
          <input id="search-pattern" name="search-pattern" type="text" placeholder="e.g. (coffee|tea)|\\.\\d{2}\\b">
        </div>
        <div>
          <label for="search-ignore-case">Search Mode</label>
          <div class="inline-control">
            <input id="search-ignore-case" name="search-ignore-case" type="checkbox" checked>
            <label for="search-ignore-case">Case insensitive</label>
          </div>
        </div>
        <div>
          <label for="sort-by">Sort By</label>
          <select id="sort-by" name="sort-by">
            <option value="date_desc">Date (Newest)</option>
            <option value="date_asc">Date (Oldest)</option>
            <option value="description_asc">Description (A-Z)</option>
            <option value="description_desc">Description (Z-A)</option>
            <option value="amount_desc">Amount (High-Low)</option>
            <option value="amount_asc">Amount (Low-High)</option>
          </select>
        </div>
      </div>

      <div class="table-wrap" aria-live="polite">
        <table>
          <caption class="sr-only">Transaction records table</caption>
          <thead>
            <tr>
              <th>Description</th>
              <th>Amount</th>
              <th>Category</th>
              <th>Date</th>
              <th>Updated</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody id="records-body"></tbody>
        </table>
      </div>

      <div id="mobile-cards" class="mobile-cards" aria-label="Transaction cards"></div>
    </section>

    <section id="editor" aria-label="Add or Edit Record">
      <h2 id="editor-title">Add / Edit Record</h2>
      <form id="record-form" novalidate>
        <input id="record-id" name="record-id" type="hidden">
        <div class="field-grid">
          <div>
            <label for="description">Description</label>
            <input id="description" name="description" type="text" required>
            <p id="description-error" class="field-error" aria-live="polite"></p>
          </div>
          <div>
            <label for="amount">Amount</label>
            <input id="amount" name="amount" type="text" inputmode="decimal" required>
            <p id="amount-error" class="field-error" aria-live="polite"></p>
          </div>
          <div>
            <label for="category">Category</label>
            <input id="category" name="category" type="text" list="category-list" required>
            <datalist id="category-list"></datalist>
            <p id="category-error" class="field-error" aria-live="polite"></p>
          </div>
          <div>
            <label for="date">Date (YYYY-MM-DD)</label>
            <input id="date" name="date" type="text" placeholder="2026-02-18" required>
            <p id="date-error" class="field-error" aria-live="polite"></p>
          </div>
        </div>
        <div class="form-actions">
          <button type="submit" id="submit-btn">Save Record</button>
          <button type="button" id="reset-form-btn">Reset</button>
        </div>
      </form>
    </section>

    <section id="settings" aria-label="settings-title">
      <h2 id="settings-title">Settings</h2>
      <form id="settings-form" novalidate>
        <fieldset>
          <legend>Currency</legend>
          <div class="field-grid">
            <div>
              <label for="base-currency">Base Currency</label>
              <select id="base-currency" name="base-currency">
                <option value="USD">USD</option>
                <option value="FRW">FRW</option>
              </select>
            </div>
            <div>
              <label for="rate-eur">Rate EUR</label>
              <input id="rate-eur" name="rate-eur" type="text" inputmode="decimal" value="0.92">
            </div>
            <div>
              <label for="rate-gbp">Rate GBP</label>
              <input id="rate-gbp" name="rate-gbp" type="text" inputmode="decimal" value="0.79">
            </div>
          </div>
        </fieldset>

        <fieldset>
          <legend>Budget Cap</legend>
          <div class="field-grid">
            <div>
              <label for="budget-cap">Cap Amount</label>
              <input id="budget-cap" name="budget-cap" type="text" inputmode="decimal" placeholder="500.00">
            </div>
          </div>
        </fieldset>

        <fieldset>
          <legend>Categories</legend>
          <p>Comma-separated categories.</p>
          <label for="categories">Category List</label>
          <input id="categories" name="categories" type="text">
        </fieldset>

        <div class="form-actions">
          <button type="submit">Save Settings</button>
          <button type="button" id="export-btn">Export JSON</button>
        </div>
      </form>

      <div class="import-wrap">
        <label for="import-file">Import JSON</label>
        <input id="import-file" name="import-file" type="file" accept="application/json">
      </div>
    </section>
  </main>

  <footer class="site-footer">

    <p>&copy; 2026 Student Finance Tracker | <a href="https://github.com/basnath-a11y" target="_blank">GitHub</a></p>
  </footer>
 
  <script type="module" src="scripts/app.js"></script>
</body>
</html>
